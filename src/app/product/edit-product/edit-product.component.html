<p></p>
<div class="container">
  <div class="row justify-content-center">
    <div class="col-12 col-lg-8">
      <form (ngSubmit)="onSubmit()" #productForm="ngForm" ngForm *ngIf="existingProduct">
        <div class="form-group">
          <label>
            Name
            <input
              class="form-control"
              type="text"
              name="name"
              required
              ngModel
              [(ngModel)]="existingProduct.productName"
              #name="ngModel"
            />
          </label>
          <span class="invalid-error" *ngIf="!name.valid && name.touched">
              Please enter a valid name
          </span>
        </div>
        <div class="form-group">
          <label>
            Price
            <input
              class="form-control"
              type="number"
              name="price"
              required
              ngModel
              [(ngModel)]="existingProduct.productPrice"
              [valueAsNumber]
              #price="ngModel"
            />
          </label>
          <span class="invalid-error" *ngIf="!price.valid && price.touched">
              Please enter a valid price 
          </span>
        </div>
        <div class="form-group">
          <label>
            Description
            <textarea
              class="form-control"
              name="description"
              required
              ngModel
              [(ngModel)]="existingProduct.productDescription"
              #description="ngModel"
            ></textarea>
          </label>
          <span class="invalid-error" *ngIf="!description.valid && description.touched">
              Please enter a valid description
          </span>
        </div>
        <div class="form-group">
          <label>
            Categorie
            <input
              class="form-control"
              type="text"
              name="categorie"
              required
              ngModel
              [(ngModel)]="existingProduct.productCategorie"
              #categorie="ngModel"
            />
          </label>
          <span class="invalid-error" *ngIf="!description.valid && description.touched">
              Please enter a valid categorie 
          </span>
        </div>
        <div class="form-group">
          <label>
            Image Url
            <textarea
              class="form-control"
              type="text"
              name="image"
              required
              (change)="onImageAdded($event)"
              ngModel
              [(ngModel)]="existingProduct.productUrl"
              #image="ngModel"
            ></textarea>
          </label>
          <span class="invalid-error" *ngIf="!image.valid && image.touched">
              Please enter a valid image link
          </span>
          <img [src]="selectedImage" class="card-img-top" alt="" style="width: 10rem; margin: 5px;">
        </div>
        <button type="submit" [disabled]="!productForm.valid" #submit class="btn btn-dark">Edit product</button>
      </form>
      </div>
  </div>
</div>